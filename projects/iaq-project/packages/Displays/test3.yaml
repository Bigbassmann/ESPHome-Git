display:
  - platform: ssd1306_i2c
    model: "SSD1306 128x64"
    address: 0x3C
    brightness: 100%
    rotation: 180
    id: display1
    lambda: |-
      if (id(button_mode) == 7 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
        it.printf(0, 0, id(arial), "T: %.1f", id(temp_min));
        it.printf(0, 20, id(arial), "P2: %.0f", id(pm_min));
        it.printf(0, 40, id(arial), "C: %.0f", id(co_min));
        it.printf(70, 0, id(arial), "T: %.1f", id(temp_max));
        it.printf(70, 20, id(arial), "P2: %.0f", id(pm_max));
        it.printf(70, 40, id(arial), "C: %.0f", id(co_max));
        it.line(58, 0, 58, 64);
      } else if (id(button_mode) == 6 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
        it.printf(0, 0, id(arial), "P1: %.0f", id(pm1).state);
        it.printf(0, 20, id(arial), "P2: %.0f", id(pm2_5).state);
        it.printf(0, 40, id(arial), "P10: %.0f", id(pm10).state);
        it.printf(70, 0, id(arial), "T: %.1f", id(temp).state);
        it.printf(70, 20, id(arial), "H: %.0f", id(hum).state);
        it.printf(70, 40, id(arial), "C: %.0f", id(co2).state);
        it.line(65, 0, 65, 64);
      } else if (id(button_mode) == 1 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
          it.print(0, 10, id(arial), "PM2.5:   ");
          it.printf(50, 0, id(arial30), "%.0f", id(pm2_5).state);
          it.print(0, 37, id(arial), "CO2:   ");
          it.printf(50, 30, id(arial30), "%.0f", id(co2).state);
      } else if  (id(button_mode) == 5 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
          it.printf(0, 0, id(arial), "Light: %.0f lux", id(light_sens).state);
          it.printf(0, 20, id(arial), "TVOC: %.0f ppb", id(tvoc).state);
          it.printf(0, 40, id(arial), "eCO2: %.0f ppm", id(eco2).state);
      } else if (id(button_mode) == 4 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
          it.printf(0, 0, id(arial), "PM1: %.0f ugm3", id(pm1).state);
          it.printf(0, 20, id(arial), "P2.5: %.0f ugm3", id(pm2_5).state);
          it.printf(0, 40, id(arial), "PM10: %.0f ugm3", id(pm10).state);
      } else if (id(button_mode) == 3 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
          it.printf(0, 0, id(arial), "Temp: %.1f Â°C", id(temp).state);
          it.printf(0, 20, id(arial), "Humidity: %.0f %%", id(hum).state);
          it.printf(0, 40, id(arial), "Pressure: %.0f hPa", id(press).state);
      } else if (id(button_mode) == 2 && !id(version) && !id(led_status_display) && !id(night_mode_display) && !id(min_max_zero) && id(display_on)) {
          it.print(2, 0, id(arial), " Air Quality Index");
          it.line(0, 18, 128, 18);
          std::string aqi_ = id(aqi).state;
          it.printf(30, 25, id(arial), "%s", aqi_.c_str());
          it.printf(30, 45, id(arial), "%.0f ugm3", id(pm2_5_avg).state);
      } else if (id(version)) {
          it.print(0, 0, id(arial10), "YAML ver: $yaml_version");
          it.line(0, 12, 128, 12);
          it.printf(0, 15, id(arial10), "ESPHome ver: %s", ESPHOME_VERSION);
          std::string ip_ = id(ip).state;
          it.printf(0, 25, id(arial10), "IP: %s", ip_.c_str());
          std::string ssid_ = id(ssid).state;
          it.printf(0, 35, id(arial10), "Connected to: %s", ssid_.c_str());
          it.printf(0, 45, id(arial10), "LED brightness: +%.0f %%", id(brightness_correction)*100);
      } else if (id(led_status_display)) {
          it.printf(0, 20, id(arial), "LEDs status: %s", id(led_status) ? "ON" : "OFF");
      } else if (id(night_mode_display)) {
          it.printf(0, 20, id(arial), "Night dim: %s", id(night_mode) ? "ON" : "OFF");
      } else if (id(min_max_zero)) {
          it.print(0, 20, id(arial), "MIN-MAX reset!");
      }

font:
  - file: "fonts/Arial.ttf"
    id: arial
    size: 15
  - file: "fonts/Arial.ttf"
    id: arial30
    size: 30
  - file: "fonts/Arial.ttf"
    id: arial10
    size: 10

